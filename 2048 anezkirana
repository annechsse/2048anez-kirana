<title>2048 Anezka Kirana</title>
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Game 2048</title>
<style>
body {
  font-family: Times new roman, sans-serif;
  background: #faf8ef;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}
.game-container {
  background: #bbada0;
  padding: 10px;
  border-radius: 10px;
}
.grid {
  display: grid;
  grid-template-columns: repeat(4, 80px);
  grid-template-rows: repeat(4, 80px);
  gap: 10px;
}
.cell {
  width: 80px;
  height: 80px;
  background: #cdc1b4;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 28px;
  font-weight: bold;
  border-radius: 5px;
}
.score {
  text-align: center;
  margin-bottom: 10px;
  font-size: 20px;
}
</style>
body {
  background-color: #ffd6e8;
  font-family: Arial, sans-serif;
}

.game-container {
  background: #ff99cc;
  padding: 15px;
  border-radius: 15px;
}

.grid-container {
  background: #ffb6d9;
}

.grid-cell {
  background: #ffcce6;
}

.tile-2 { background: #ffe6f2; color: #d63384; }
.tile-4 { background: #ffb3d9; color: #fff; }
.tile-8 { background: #ff80bf; color: #fff; }
.tile-16 { background: #ff4da6; color: #fff; }
.tile-32 { background: #ff1a8c; color: #fff; }
.tile-64 { background: #e60073; color: #fff; }
.tile-128 { background: #cc0066; color: #fff; }
.tile-256 { background: #b30059; color: #fff; }
.tile-512 { background: #99004d; color: #fff; }
.tile-1024 { background: #800040; color: #fff; }
.tile-2048 { background: #660033; color: #fff; }

button {
  background-color: #ff66b2;
  color: white;
  border: none;
  padding: 10px;
  border-radius: 10px;
}
</style>
</head>
<body>

<div class="game-container">
  <div class="score">Score: <span id="score">0</span></div>
  <div class="grid" id="grid"></div>
</div>

<script>
let grid = [
  [0,0,0,0],
  [0,0,0,0],
  [0,0,0,0],
  [0,0,0,0]
];
let score = 0;

const gridElement = document.getElementById("grid");
const scoreElement = document.getElementById("score");

function init() {
  addNumber();
  addNumber();
  drawGrid();
}

function drawGrid() {
  gridElement.innerHTML = "";
  for (let row of grid) {
    for (let cell of row) {
      let div = document.createElement("div");
      div.className = "cell";
      div.textContent = cell === 0 ? "" : cell;
      gridElement.appendChild(div);
    }
  }
  scoreElement.textContent = score;
}

function addNumber() {
  let options = [];
  for (let i=0;i<4;i++) {
    for (let j=0;j<4;j++) {
      if (grid[i][j] === 0) options.push({i,j});
    }
  }
  if (options.length === 0) return;
  let spot = options[Math.floor(Math.random() * options.length)];
  grid[spot.i][spot.j] = Math.random() > 0.5 ? 2 : 4;
}

function slide(row) {
  let arr = row.filter(x => x !== 0);
  for (let i=0;i<arr.length-1;i++) {
    if (arr[i] === arr[i+1]) {
      arr[i] *= 2;
      score += arr[i];
      arr[i+1] = 0;
    }
  }
  arr = arr.filter(x => x !== 0);
  while (arr.length < 4) arr.push(0);
  return arr;
}

function moveLeft() {
  for (let i=0;i<4;i++) grid[i] = slide(grid[i]);
  addNumber();
}

function moveRight() {
  for (let i=0;i<4;i++) grid[i] = slide(grid[i].reverse()).reverse();
  addNumber();
}

function transpose() {
  let newGrid = [[],[],[],[]];
  for (let i=0;i<4;i++) {
    for (let j=0;j<4;j++) {
      newGrid[i][j] = grid[j][i];
    }
  }
  grid = newGrid;
}

function moveUp() {
  transpose();
  moveLeft();
  transpose();
}

function moveDown() {
  transpose();
  moveRight();
  transpose();
}

document.addEventListener("keydown", function(e) {
  if (e.key === "ArrowLeft") moveLeft();
  if (e.key === "ArrowRight") moveRight();
  if (e.key === "ArrowUp") moveUp();
  if (e.key === "ArrowDown") moveDown();
  drawGrid();
});

init();
</script>

</body>
</html>
